(function(){window.filterStars=function(){},window.changeAvocadoMode=function(){},d3.csv("assets/data/smallstars.csv",function(e){var t,n,r,a,i,o,c,u,s,d,l,g,m,y,h,x,f,E,p,w,v,T,R,C,H,b,z,D,S,I,k,P,A;return S=e,C=void 0,k=d3.scale.linear().domain(d3.extent(S,function(e){return+e.x})).range([0,500]),P=d3.scale.linear().domain(d3.extent(S,function(e){return+e.y})).range([0,500]),A=d3.scale.linear().domain(d3.extent(S,function(e){return+e.z})).range([0,500]),w=d3.scale.linear().domain(d3.extent(S,function(e){return+e.x})).range([0,1e3]),v=d3.scale.linear().domain(d3.extent(S,function(e){return+e.y})).range([0,1e3]),T=d3.scale.linear().domain(d3.extent(S,function(e){return+e.z})).range([0,1e3]),h=d3.scale.linear().domain(d3.extent(S,function(e){return+e.x})).range([-500,500]),x=d3.scale.linear().domain(d3.extent(S,function(e){return+e.y})).range([-500,500]),f=d3.scale.linear().domain(d3.extent(S,function(e){return+e.z})).range([-500,500]),y=2e3,p=0,S.forEach(function(e){return e.number=p++}),b=!1,window.filterStars=function(){var t;return t=+document.getElementById("range-slider-value").value,S=e.slice(0,t),$("#status").text("stars: "+S.length+" ("+e.length+")"),null!=C?E(C):void 0},R="assets/img/circle_64.png",window.changeAvocadoMode=function(){var e;return e=$("#avocado-mode").is(":checked"),e?(document.title="Avocados!!",R="assets/img/avocado.png"):(document.title="Stars!!",R="assets/img/circle_64.png"),null!=C?E(C):void 0},I=new Stats,I.domElement.style.position="absolute",I.domElement.style.right="10px",I.domElement.style.top="10px",document.body.appendChild(I.domElement),E=function(e){return b=!1,C=e,$("#container").empty(),window.setTimeout(e,500)},$("#static-svg").click(function(){return E(z)}),$("#static-canvas").click(function(){return E(H)}),$("#static-virtual-dom").click(function(){return E(D)}),$("#anim-svg").click(function(){return E(c)}),$("#anim-canvas").click(function(){return E(t)}),$("#anim-canvas-sprite").click(function(){return E(r)}),$("#anim-canvas-canvas-sprite").click(function(){return E(n)}),$("#anim-virtual-dom").click(function(){return E(m)}),$("#anim-three").click(function(){return E(u)}),$("#anim-three-sprite").click(function(){return E(l)}),$("#anim-three-particles").click(function(){return E(s)}),$("#anim-three-shaders").click(function(){return E(d)}),$("#anim-three-3d").click(function(){return E(a)}),$("#anim-pixi").click(function(){return E(i)}),$("#anim-pixi-sprite").click(function(){return E(o)}),$("#anim-two").click(function(){return E(g)}),document.getElementById("range-slider-value").value=e.length,$("#range-slider").attr("max",e.length),window.filterStars(),z=function(){var e,t,n,r,a;return a=d3.select("#container").append("p").text("rendering svg..."),r=d3.select("#container").append("svg").attr({width:500,height:500}),e=(new Date).getTime(),t=r.selectAll("circle").data(S),t.enter().append("circle"),t.classed("stars",!0).attr("cx",function(e){return k(+e.x)}).attr("cy",function(e){return P(+e.y)}).attr("r",1),t.exit().remove(),n=(new Date).getTime(),a.text("SVG: "+(n-e)+"ms")},H=function(){var e,t,n,r,a;return a=d3.select("#container").append("p").text("rendering canvas..."),t=d3.select("#container").append("canvas").attr({width:"1000",height:"1000"}).style({width:"500px",height:"500px"}),e=(new Date).getTime(),n=t[0][0].getContext("2d"),n.fillStyle="#000",S.forEach(function(e){return n.beginPath(),n.arc(w(+e.x),v(+e.y),2,0,2*Math.PI,!1),n.fill()}),r=(new Date).getTime(),a.text("Canvas: "+(r-e)+"ms")},D=function(){var e,t,n,r,a,i,o,c,u,s;return o=d3.select("#container").append("p"),u=d3.select(document.createElement("custom")),c=u.append("custom").classed("sketch",!0).attr({width:1e3,height:1e3}),t=d3.select("#container").append("canvas").attr({width:"1000",height:"1000"}).style({width:"500px",height:"500px"}),e=new Date,s=c.selectAll("custom.circle").data(S),s.enter().append("custom").classed("circle",!0),s.attr("cx",function(e){return w(+e.x)}).attr("cy",function(e){return v(+e.y)}).attr("r",2),s.exit().remove(),i=(new Date).getTime(),n=i-e,e=new Date,r=t[0][0].getContext("2d"),r.fillStyle="#000",r.strokeStyle="none",a=u.selectAll("custom.circle"),a.each(function(){var e;return e=d3.select(this),r.beginPath(),r.arc(e.attr("cx"),e.attr("cy"),e.attr("r"),0,2*Math.PI,!1),r.fill()}),i=(new Date).getTime(),o.text("Virtual DOM + Canvas: "+(n+(i-e))+"ms (creating VDOM: "+n+"ms, rendering VDOM: "+(i-e)+"ms)")},c=function(){var e,t,n,r;return r=d3.select(".container").append("svg").attr({width:500,height:500}),t=r.selectAll("circle").data(S),t.enter().append("circle"),n=function(){return p=r.selectAll("circle")[0].length,r.selectAll("circle").attr("cx",function(e){return k(+e.x)}).attr("cy",function(e){return P(+e.y)}).attr("r",1).style("fill","black").style("stroke","none").transition().duration(y).attr("cx",function(e){return P(+e.y)}).attr("cy",function(e){return A(+e.z)}).each("end",function(){return d3.select(this).transition().duration(y).attr("cx",function(e){return k(+e.x)}).attr("cy",function(e){return P(+e.y)}).each("end",function(e){return+e.number===p-2?n():void 0})})},n(),t.exit().remove(),b=!0,(e=function(){return I.end(),I.begin(),b?requestAnimationFrame(e):void 0})()},t=function(){var e,t,n,r,a,i,o,c,u;return e=d3.select(".container").append("canvas").attr({width:"1000",height:"1000"}).style({width:"500px",height:"500px"}),t=e[0][0].getContext("2d"),t.fillStyle="#000",c=[],S.forEach(function(e){return c.push({x:w(+e.x),y:v(+e.y),data:e,source:{x:w(+e.x),y:v(+e.y)},target:{x:v(+e.y),y:T(+e.z)}})}),n=d3.ease("cubic-in-out"),u=(new Date).getTime(),r=!0,a=0,i=0,b=!0,(o=function(){var i,s,d,l;return I.begin(),i=(new Date).getTime(),s=(i-u)%y,a>s&&(r=!r),l=r?n(s/y):1-n(s/y),d=1-l,e[0][0].width=1e3,e[0][0].height=1e3,c.forEach(function(e){return e.x=l*e.source.x+d*e.target.x,e.y=l*e.source.y+d*e.target.y,t.beginPath(),t.arc(e.x,e.y,2,0,2*Math.PI,!1),t.fill()}),a=s,b&&requestAnimationFrame(o),I.end()})()},r=function(){var e,t,n,r,a,i,o,c,u,s;return e=d3.select(".container").append("canvas").attr({width:"1000",height:"1000"}).style({width:"500px",height:"500px"}),t=e[0][0].getContext("2d"),t.fillStyle="#000",c=[],S.forEach(function(e){return c.push({x:w(+e.x),y:v(+e.y),data:e,source:{x:w(+e.x),y:v(+e.y)},target:{x:v(+e.y),y:T(+e.z)}})}),n=d3.ease("cubic-in-out"),u=(new Date).getTime(),r=!0,a=0,i=0,s=document.createElement("img"),b=!0,o=function(){var i,d,l,g;return I.begin(),i=(new Date).getTime(),d=(i-u)%y,a>d&&(r=!r),g=r?n(d/y):1-n(d/y),l=1-g,e[0][0].width=1e3,e[0][0].height=1e3,c.forEach(function(e){return e.x=g*e.source.x+l*e.target.x,e.y=g*e.source.y+l*e.target.y,t.drawImage(s,e.x,e.y,4,4)}),a=d,b&&requestAnimationFrame(o),I.end()},s.onload=function(){return o()},s.src=R},n=function(){var e,t,n,r,a,i,o,c,u,s,d;return e=d3.select(".container").append("canvas").attr({width:"1000",height:"1000"}).style({width:"500px",height:"500px"}),t=e[0][0].getContext("2d"),t.fillStyle="#000",c=[],S.forEach(function(e){return c.push({x:w(+e.x),y:v(+e.y),data:e,source:{x:w(+e.x),y:v(+e.y)},target:{x:v(+e.y),y:T(+e.z)}})}),n=d3.ease("cubic-in-out"),u=(new Date).getTime(),r=!0,a=0,i=0,s=document.createElement("canvas"),s.width=4,s.height=4,b=!0,o=function(){var i,d,l,g;return I.begin(),i=(new Date).getTime(),d=(i-u)%y,a>d&&(r=!r),g=r?n(d/y):1-n(d/y),l=1-g,e[0][0].width=1e3,e[0][0].height=1e3,c.forEach(function(e){return e.x=g*e.source.x+l*e.target.x,e.y=g*e.source.y+l*e.target.y,t.drawImage(s,e.x,e.y,4,4)}),a=d,b&&requestAnimationFrame(o),I.end()},d=s.getContext("2d"),d.fillStyle="#000",d.beginPath(),d.arc(2,2,2,0,2*Math.PI,!1),d.fill(),o()},m=function(){var e,t,n,r,a,i,o;return i=d3.select(document.createElement("custom")),a=i.append("custom").classed("sketch",!0).attr({width:1e3,height:1e3}),t=d3.select(".container").append("canvas").attr({width:"1000",height:"1000"}).style({width:"500px",height:"500px"}),e=new Date,o=a.selectAll("custom.circle").data(S),o.enter().append("custom").classed("circle",!0),o.attr("cx",function(e){return w(+e.x)}).attr("cy",function(e){return v(+e.y)}).attr("r",2).style("fill","black").style("stroke","none"),r=function(e){return null==e&&(e=!0),p=o[0].length,e?o.transition().duration(y).attr("cx",function(e){return v(+e.y)}).attr("cy",function(e){return T(+e.z)}).each("end",function(t){return+t.number===p-2?(e=!e,r(e)):void 0}):o.transition().duration(y).attr("cx",function(e){return w(+e.x)}).attr("cy",function(e){return v(+e.y)}).each("end",function(t){return+t.number===p-2?(e=!e,r(e)):void 0})},o.exit().remove(),b=!0,n=function(){var e,r,a;return I.begin(),t[0][0].width=1e3,t[0][0].height=1e3,e=t[0][0].getContext("2d"),e.fillStyle="#000",a=i.selectAll("custom.circle"),a.each(function(){var t;return t=d3.select(this),e.beginPath(),e.arc(t.attr("cx"),t.attr("cy"),t.attr("r"),0,2*Math.PI,!1),e.fill()}),r=new Date,I.end(),b?requestAnimationFrame(n):void 0},n(),r()},g=function(){var e,t,n,r,a,i,o,c,u;return u=new Two({type:Two.Types.webgl,width:500,height:500}).appendTo(document.getElementsByClassName("container")[0]),o=[],S.forEach(function(e){return o.push({x:k(+e.x),y:P(+e.y),data:e,source:{x:k(+e.x),y:P(+e.y)},target:{x:P(+e.y),y:A(+e.z)}})}),e=d3.ease("cubic-in-out"),c=(new Date).getTime(),a=new Date,t=!0,n=0,r=0,o.forEach(function(e){return e.g=u.makeCircle(e.x,e.y,1),e.g.fill="#000000",e.g.stroke="none"}),b=!0,i=function(){var r,a,i,u;return I.begin(),r=(new Date).getTime(),a=(r-c)%y,n>a&&(t=!t),u=t?e(a/y):1-e(a/y),i=1-u,o.forEach(function(e){return e.x=u*e.source.x+i*e.target.x,e.y=u*e.source.y+i*e.target.y,e.g.translation.set(e.x,e.y)}),n=a,I.end()},u.bind("update",i).play(),console.log(u.type)},u=function(){var e,t,n,r,a,i,o,c,u,s,d,l,g;return d=new THREE.Scene,e=new THREE.OrthographicCamera(-500,500,500,-500,1,1e3),e.position.z=20,s=new THREE.WebGLRenderer,s.setClearColor(16777215,0),s.setSize(1e3,1e3),s.domElement.style.width="500px",s.domElement.style.height="500px",document.getElementsByClassName("container")[0].appendChild(s.domElement),l=[],S.forEach(function(e){return l.push({x:h(+e.x),y:x(+e.y),z:f(+e.z),data:e,source:{x:h(+e.x),y:x(+e.y)},target:{x:x(+e.y),y:f(+e.z)}})}),t=d3.ease("cubic-in-out"),g=(new Date).getTime(),o=new Date,n=!0,a=0,i=0,r=new THREE.CircleGeometry(2,10),c=new THREE.MeshBasicMaterial({color:0}),l.forEach(function(e){return e.g=new THREE.Mesh(r,c),e.g.position.x=e.x,e.g.position.y=e.y,e.g.position.z=e.z,d.add(e.g)}),b=!0,(u=function(){var r,i,o,c;return I.begin(),r=(new Date).getTime(),i=(r-g)%y,a>i&&(n=!n),c=n?t(i/y):1-t(i/y),o=1-c,l.forEach(function(e){return e.x=c*e.source.x+o*e.target.x,e.y=c*e.source.y+o*e.target.y,e.g.position.x=e.x,e.g.position.y=e.y}),s.render(d,e),a=i,I.end(),b?requestAnimationFrame(u):void 0})()},l=function(){var e,t,n,r,a,i,o,c,u,s,d,l,g;return s=new THREE.Scene,e=new THREE.OrthographicCamera(-500,500,500,-500,1,1e3),e.position.z=20,u=new THREE.WebGLRenderer,u.setClearColor(16777215,0),u.setSize(1e3,1e3),u.domElement.style.width="500px",u.domElement.style.height="500px",document.getElementsByClassName("container")[0].appendChild(u.domElement),d=[],S.forEach(function(e){return d.push({x:h(+e.x),y:x(+e.y),z:f(+e.z),data:e,source:{x:h(+e.x),y:x(+e.y)},target:{x:x(+e.y),y:f(+e.z)}})}),t=d3.ease("cubic-in-out"),l=(new Date).getTime(),i=new Date,n=!0,r=0,a=0,g=THREE.ImageUtils.loadTexture(R),o=new THREE.SpriteMaterial({map:g,color:0,depthTest:!1,depthWrite:!1,blending:THREE.NoBlending}),d.forEach(function(e){return e.g=new THREE.Sprite(o),e.g.position.set(e.x,e.y,1),e.g.scale.set(4,4,4),s.add(e.g)}),b=!0,(c=function(){var a,i,o,g;return I.begin(),a=(new Date).getTime(),i=(a-l)%y,r>i&&(n=!n),g=n?t(i/y):1-t(i/y),o=1-g,d.forEach(function(e){return e.x=g*e.source.x+o*e.target.x,e.y=g*e.source.y+o*e.target.y,e.g.position.x=e.x,e.g.position.y=e.y}),u.render(s,e),r=i,I.end(),b?requestAnimationFrame(c):void 0})()},s=function(){var e,t,n,r,a,i,o,c,u,s,d,l,g,m,E;return l=new THREE.Scene,e=new THREE.OrthographicCamera(-500,500,500,-500,1,1e3),e.position.z=20,d=new THREE.WebGLRenderer,d.setClearColor(16777215,0),d.setSize(1e3,1e3),d.domElement.style.width="500px",d.domElement.style.height="500px",document.getElementsByClassName("container")[0].appendChild(d.domElement),g=[],S.forEach(function(e){return g.push({x:h(+e.x),y:x(+e.y),z:f(+e.z),data:e,source:{x:h(+e.x),y:x(+e.y),z:f(+e.z)},target:{x:x(+e.y),y:f(+e.z),z:h(+e.x)}})}),t=d3.ease("cubic-in-out"),m=(new Date).getTime(),i=new Date,n=!0,r=0,a=0,c=new THREE.Geometry,o=new THREE.PointCloudMaterial({size:4,color:0,map:THREE.ImageUtils.loadTexture(R),blending:THREE.AdditiveBlending,transparent:!1}),g.forEach(function(e){return c.vertices.push(new THREE.Vector3(e.x,e.y,1))}),u=new THREE.PointCloud(c,o),l.add(u),E=function(){var e,t;return e=0,t=function(){var e;return e=(new Date).getTime()}},b=!0,(s=function(){var a,i,o,u,h,x;return I.begin(),a=(new Date).getTime(),i=(a-m)%y,r>i&&(n=!n),x=n?t(i/y):1-t(i/y),u=1-x,o=0,h=(new Date).getTime(),g.every(function(e){return e.x=x*e.source.x+u*e.target.x,e.y=x*e.source.y+u*e.target.y,c.vertices[o]=new THREE.Vector3(e.x,e.y,1),o++,(new Date).getTime()-h>25?!1:!0}),c.verticesNeedUpdate=!0,d.render(l,e),r=i,I.end(),b?requestAnimationFrame(s):void 0})()},d=function(){var e,t,n,r,a,i,o,c,u,s,d,l,g,m,E,p,w,v,T;return E=new THREE.Scene,t=new THREE.OrthographicCamera(-500,500,500,-500,1,1e3),t.position.z=20,t.lookAt(E.position),m=new THREE.WebGLRenderer,m.setClearColor(16777215,0),m.setSize(1e3,1e3),m.domElement.style.width="500px",m.domElement.style.height="500px",document.getElementsByClassName("container")[0].appendChild(m.domElement),p=[],S.forEach(function(e){return p.push({x:h(+e.x),y:x(+e.y),z:f(+e.z),data:e,source:{x:h(+e.x),y:x(+e.y)},target:{x:x(+e.y),y:f(+e.z)}})}),n=d3.ease("cubic-in-out"),v={t:{type:"f",value:0},mt:{type:"f",value:1},tex:{type:"t",value:THREE.ImageUtils.loadTexture(R)}},e={source:{type:"v3",value:[]},target:{type:"v3",value:[]},texCoords:{type:"v2",value:[]}},i=new THREE.Geometry,T="\nuniform float t;\nattribute vec3 source;\nattribute vec3 target;\nattribute vec2 texCoords;\n\nvarying vec2 vTextureCoord;\n\nvoid main(){\n	vec3 animatedPos = mix(source, target, t);\n\n	vec4 p = projectionMatrix * modelViewMatrix * vec4(animatedPos, 1.0);\n	gl_Position = p;\n\n	vTextureCoord = texCoords;\n}\n",a="varying vec2 vTextureCoord;\nuniform sampler2D tex;\n\nvoid main() {\n	gl_FragColor = texture2D(tex, vTextureCoord);\n}\n",u=new THREE.ShaderMaterial({attributes:e,uniforms:v,vertexShader:T,fragmentShader:a,depthTest:!1,wireFrame:!0}),d=-2.5,l=2.5,o=0,p.forEach(function(t){return i.vertices.push(new THREE.Vector3(t.x+d,t.y+d,0),new THREE.Vector3(t.x+l,t.y+d,0),new THREE.Vector3(t.x+l,t.y+l,0),new THREE.Vector3(t.x+d,t.y+l,0)),i.faces.push(new THREE.Face3(4*o+0,4*o+1,4*o+2)),i.faces.push(new THREE.Face3(4*o+0,4*o+2,4*o+3)),o++,e.source.value.push(new THREE.Vector3(t.source.x+d,t.source.y+d,0),new THREE.Vector3(t.source.x+l,t.source.y+d,0),new THREE.Vector3(t.source.x+l,t.source.y+l,0),new THREE.Vector3(t.source.x+d,t.source.y+l,0)),e.target.value.push(new THREE.Vector3(t.target.x+d,t.target.y+d,0),new THREE.Vector3(t.target.x+l,t.target.y+d,0),new THREE.Vector3(t.target.x+l,t.target.y+l,0),new THREE.Vector3(t.target.x+d,t.target.y+l,0)),e.texCoords.value.push(new THREE.Vector2(0,0),new THREE.Vector2(1,0),new THREE.Vector2(1,1),new THREE.Vector2(0,1))}),s=new THREE.Mesh(i,u),E.add(s),w=(new Date).getTime(),r=!0,c=0,b=!0,(g=function(){var e,a,i;return I.begin(),e=(new Date).getTime(),a=(e-w)%y,c>a&&(r=!r),i=r?n(a/y):1-n(a/y),v.t.value=i,m.render(E,t),c=a,I.end(),b?requestAnimationFrame(g):void 0})()},a=function(){var e,t,n,r,a,i,o,c,u,s,d,l,g,m;return l=new THREE.Scene,e=new THREE.OrthographicCamera(-500,500,500,-500,1,1e3),e.position.z=20,d=new THREE.WebGLRenderer,d.setClearColor(16777215,0),d.setSize(1e3,1e3),d.domElement.style.width="500px",d.domElement.style.height="500px",document.getElementsByClassName("container")[0].appendChild(d.domElement),g=[],S.forEach(function(e){return g.push({x:h(+e.x),y:x(+e.y),z:f(+e.z),data:e,source:{x:h(+e.x),y:x(+e.y),z:f(+e.z)},target:{x:x(+e.y),y:f(+e.z),z:h(+e.x)}})}),t=d3.ease("cubic-in-out"),m=(new Date).getTime(),i=new Date,n=!0,r=0,a=0,c=new THREE.Geometry,o=new THREE.PointCloudMaterial({size:2,color:0,map:THREE.ImageUtils.loadTexture(R),transparent:!1,blending:THREE.SubtractiveBlending}),g.forEach(function(e){return c.vertices.push(new THREE.Vector3(e.x,e.y,e.z))}),u=new THREE.PointCloud(c,o),l.add(u),b=!0,(s=function(){return I.begin(),u.rotation.y+=.01,d.render(l,e),I.end(),b?requestAnimationFrame(s):void 0})()},i=function(){var e,t,n,r,a,i,o,c,u,s,d;return c=PIXI.autoDetectRenderer(500,500,{resolution:2}),document.getElementsByClassName("container")[0].appendChild(c.view),u=new PIXI.Stage(16777215),n=new PIXI.Graphics,u.addChild(n),s=[],S.forEach(function(e){return s.push({x:k(+e.x),y:P(+e.y),data:e,source:{x:k(+e.x),y:P(+e.y)},target:{x:P(+e.y),y:A(+e.z)}})}),e=d3.ease("cubic-in-out"),d=(new Date).getTime(),i=new Date,t=!0,r=0,a=0,$("canvas").css({width:500,height:500}),s.forEach(function(e){return e.g=new PIXI.Graphics,e.width=2,e.height=2,e.g.lineStyle(0),e.g.beginFill(0),e.g.drawCircle(1,1,1),e.g.x=e.x,e.g.y=e.y,u.addChild(e.g)}),b=!0,(o=function(){var a,i,l,g;return I.begin(),a=(new Date).getTime(),i=(a-d)%y,r>i&&(t=!t),g=t?e(i/y):1-e(i/y),l=1-g,n.clear(),n.lineStyle(0),s.forEach(function(e){return e.x=g*e.source.x+l*e.target.x,e.y=g*e.source.y+l*e.target.y,e.g.x=e.x,e.g.y=e.y}),c.render(u),r=i,b&&requestAnimationFrame(o),I.end()})()},o=function(){var e,t,n,r,a,i,o,c,u,s,d,l;return u=PIXI.autoDetectRenderer(500,500,{resolution:2}),document.getElementsByClassName("container")[0].appendChild(u.view),s=new PIXI.Stage(16777215),r=new PIXI.Graphics,s.addChild(r),e=new PIXI.SpriteBatch,s.addChild(e),d=[],S.forEach(function(e){return d.push({x:k(+e.x),y:P(+e.y),data:e,source:{x:k(+e.x),y:P(+e.y)},target:{x:P(+e.y),y:A(+e.z)},introp:{x:d3.interpolateNumber(k(+e.x),P(+e.y)),y:d3.interpolateNumber(P(+e.y),A(+e.z))}})}),t=d3.ease("cubic-in-out"),l=(new Date).getTime(),o=new Date,n=!0,a=0,i=0,$("canvas").css({width:500,height:500}),d.forEach(function(t){return t.g=new PIXI.Sprite.fromImage(R),t.g.width=2,t.g.height=2,t.g.position.x=t.x,t.g.position.y=t.y,e.addChild(t.g)}),b=!0,(c=function(){var e,r,i,o,g;return I.begin(),e=(new Date).getTime(),r=(e-l)%y,a>r&&(n=!n),g=n?t(r/y):1-t(r/y),o=1-g,i=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},d.forEach(function(e){return e.x=e.source.x*(1-g)+e.target.x*g,e.y=e.source.y*(1-g)+e.target.y*g,e.g.position.x=e.x,e.g.position.y=e.y}),u.render(s),a=r,b&&requestAnimationFrame(c),I.end()})()}})}).call(this);